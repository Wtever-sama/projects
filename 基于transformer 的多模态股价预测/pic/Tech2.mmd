flowchart TD
    A0[项目目标：多模态金融市场预测系统]

    %% 数据层
    A0 --> A1[数据层：多源数据采集与预处理]
    A1 --> A1a[结构化数据\n• 来源：Tushare/Wind API\n• 处理：停牌填充、时间戳标准化、异常值过滤]
    A1 --> A1b[非结构化数据\n• 爬虫：新浪财经/同花顺\n• 预处理：文本去噪、情感分析（FinBERT)]

    %% 算法层
    A0 --> A2[算法层：模型设计与融合]
    A2 --> A2a[NLP模块：FinBERT情感分类]
    A2 --> A2b[时序模块：Prophet + Transformer\n• 引入情感得分作为外部变量\n• 注意力机制可视化关键事件]
    A2 --> A2c[融合模块：早期 & 晚期融合\n• 拼接输入 or 加权输出]

    %% 应用层
    A0 --> A3[应用层：系统开发与回测]
    A3 --> A3a[策略回测框架\n• Backtrader\n• 交易规则触发：情感阈值]
    A3 --> A3b[可视化平台\n• 前端：Vue.js + ECharts\n• 后端：Django REST API\n• 展示：预测曲线、舆情词云]

    %% 创新点
    A0 --> A4[系统创新点]
    A4 --> A4a[技术融合：NLP + 时序模型 + 多模态]
    A4 --> A4b[可解释性增强：给出预测依据说明]
    A4 --> A4c[实时预警：短信/邮件触发负面情绪警报]

    %% 项目进度
    A0 --> A5[项目进度安排]
    A5 --> A5a[2025.07–10：数据采集与情感模型]
    A5 --> A5b[2025.10–12：时序预测与融合实验]
    A5 --> A5c[2026.01–05：Web平台与回测开发]
    A5 --> A5d[2026.04–07：系统优化与成果输出]